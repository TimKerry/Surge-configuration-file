[General]
loglevel = notify // Êó•ÂøóÁ∫ßÂà´
show-error-page-for-reject = true // Âú® HTTP/HTTPS ËØ∑Ê±ÇË¢´Êã¶Êà™Êó∂ÔºåËøîÂõû Surge ÂÜÖÁΩÆÈîôËØØÊèêÁ§∫È°µ
allow-wifi-access = false // ÂÖÅËÆ∏Wi-FiËÆøÈóÆ
all-hybrid = false // All Hybrid ÁΩëÁªúÂπ∂Âèë
ipv6 = true // Â¶ÇÊó†ÁâπÊÆäÈúÄÊ±Ç‰∏çÂ∫îÂºÄÂêØ IPv6ÔºåÁõÆÂâçÁΩëÁªúÁéØÂ¢É‰∏ã IPv6 Âè™‰ºöÂ∏¶Êù•ÈóÆÈ¢ò„ÄÇ
ipv6-vif = auto // IPv6 VIFÔºàÈªòËÆ§Á¶ÅÁî®Ôºâ
test-timeout = 2 // ÊµãËØïË∂ÖÊó∂ÔºàÁßíÔºâ
internet-test-url = http://www.baidu.com/ // Internet ÊµãËØï URL
proxy-test-url = http://www.apple.com/library/test/success.html // ‰ª£ÁêÜÊµãÈÄü URL
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb // GeoIPÊï∞ÊçÆÂ∫ì
exclude-simple-hostnames = true // ÊéíÈô§ÁÆÄÂçï‰∏ªÊú∫Âêç
dns-server = 223.5.5.5, 119.29.29.29 // DNS ÊúçÂä°Âô®
encrypted-dns-server = https://dns.alidns.com/dns-query // Âä†ÂØÜDNS
hijack-dns = 8.8.8.8:53, 8.8.4.4:53 // Âä´ÊåÅÁâπÂÆöDNSËØ∑Ê±ÇÔºå‰∫§Áî±SurgeÊé•ÁÆ°
read-etc-hosts = true // ‰ªé /etc/hosts ËØªÂèñ DNS ËÆ∞ÂΩï
http-api-web-dashboard = true // ËøúÁ®ãÊéßÂà∂Âô®
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local // Ë∑≥Ëøá‰ª£ÁêÜ
always-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net // Always Real IP
disable-geoip-db-auto-update = false // Á¶ÅÁî® GEOIP Ëá™Âä®Êõ¥Êñ∞
# compatibility-mode = 5 // ÂÖºÂÆπÊ®°Âºè(Ëã•ÈúÄË¶Å‰ΩøÁî®HomekitÊëÑÂÉèÂ§¥ÔºåÂèØ‰ª•ÂºÄÂêØÂÖºÂÆπÊ®°ÂºèÔºå‰ΩÜÂºÄÂêØÂÖºÂÆπÊ®°Âºè‰ºöÂØºËá¥‰∏Ä‰∫õÂ±èËîΩÂπøÂëäÁöÑÊ®°ÂùóÂ§±ÊïàÔºåËØ∑Ëá™Ë°åÂèñËàç)
udp-policy-not-supported-behaviour = REJECT // UDPÈÄÄÂõûË°å‰∏∫
use-local-host-item-for-proxy = true // ‰ª£ÁêÜËØ∑Ê±ÇÊú¨Âú∞DNSÊò†Â∞Ñ
http-api = 123456#@0.0.0.0:6171
http-api-tls = false

[Proxy Group]
Intelligent = smart, policy-path=https://api-huacloud.dev/sub?target=surge&ver=4&insert=true&emoji=true&tfo=true&udp=true&surge.doh=true&filename=Flower_Trojan.conf&url=https%3A%2F%2Fapi.xmancdn.com%2Fosubscribe.php%3Ftoken2%3Dyg37gk3y-0eb3f72078lkh7pqfuwuqt, update-interval=-1, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/Copilot(1).png, policy-regex-filter=^(?!.*(Ë∑ùÁ¶ª‰∏ãÊ¨°|Êó†Ê≥ï‰ΩøÁî®|Traffic|TGÈ¢ëÈÅì|Expire|Premium|ÂΩìÂâç|Âà∞Êúü))
Manual = select, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Intelligent, icon-url=https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/zhuanyi.png
HK Node = smart, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Intelligent, policy-regex-filter=.*(üá≠üá∞|È¶ôÊ∏Ø|Ê∏Ø|HK|(?i)HongKong), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
TW Node = smart, policy-regex-filter=.*(üá®üá≥|Âè∞Êπæ|TW|(?i)TAIWAN), no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Intelligent, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png
JP Node = smart, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Intelligent, policy-regex-filter=.*(üáØüáµ |Êó•Êú¨|Japan|(?i)JP), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
SG Node = smart, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Intelligent, policy-regex-filter=.*(üá∏üá¨ |Êñ∞Âä†Âù°|Singapore|(?i)SG), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
KR Node = smart, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Intelligent, policy-regex-filter=.*(üá∞üá∑ |Èü©ÂõΩ|Korea|(?i)KR), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png
US Node = smart, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Intelligent, policy-regex-filter=.*(üá∫üá∏ |ÁæéÂõΩ|States|(?i)US), icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
Proxy = select, "HK Node", "TW Node", "JP Node", "KR Node", "SG Node", "US Node", update-interval=36000, no-alert=0, hidden=0, include-all-proxies=0, persistent=1, icon-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bypass.png
Final = fallback, Intelligent, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/Twoandz9/Titan1.png

[Rule]
DOMAIN,ip-api.com,Proxy // Added for: http://ip-api.com/json/117.186.219.38?lang=zh-CN
# > ÂπøÂëäÊã¶Êà™
# RULE-SET,https://adrules.top/adrules.list,REJECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/refs/heads/main/Filters/AWAvenue-Ads-Rule-Surge-RULE-SET.list,REJECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list,REJECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list,REJECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising.list,REJECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdvertisingLite/AdvertisingLite.list,REJECT,extended-matching
# > Â§©Ê∞îÂ¢ûÂº∫Êèí‰ª∂ËæÖÂä©
AND,((OR,((IP-CIDR,17.0.0.0/8,no-resolve), (IP-CIDR6,2620:149::/32,no-resolve))), (PROTOCOL,QUIC)),REJECT
# > Êô∫ËÉΩÂä©ÁêÜ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,"US Node"
RULE-SET,https://raw.githubusercontent.com/TimKerry/Surge-Rule/refs/heads/main/Gemini.list,"US Node"
# > GitHub
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,Intelligent,no-resolve
# > Á§æ‰∫§Âπ≥Âè∞
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,"US Node"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,"JP Node"
RULE-SET,https://raw.githubusercontent.com/Repcz/Tool/X/Loon/Rules/Talkatone.list,"US Node"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Bahamut/Bahamut.list,"TW Node"
# > ÊµÅÂ™í‰Ωì
DOMAIN,b3.zdz.plus,DIRECT
DOMAIN-KEYWORD,zdz.plus,Intelligent
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Facebook/Facebook.list,"JP Node"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Instagram/Instagram.list,"JP Node",extended-matching
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,Proxy
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Proxy
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Proxy
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,"HK Node"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,"JP Node"
RULE-SET,https://raw.githubusercontent.com/TimKerry/Rule-/refs/heads/main/pornhub.list,"JP Node"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,DIRECT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMedia/ChinaMedia.list,DIRECT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia_All_No_Resolve.list,Intelligent,no-resolve
# > Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,"US Node"
# > ÂõΩÂ§ñÂ∏∏ËßÅÂüüÂêç
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/blocked.list,Proxy
# > ÂÜúË°åË∑≥Ëøá‰ª£ÁêÜÊ£ÄÊµã
DOMAIN,msmp.abchina.com.cn,REJECT,pre-matching,extended-matching
# > ÂõΩÂÜÖÂ∏∏ËßÅÂüüÂêç
RULE-SET,https://github.com/Blankwonder/surge-list/raw/master/cn.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMax/ChinaMax_All.list,DIRECT,extended-matching,no-resolve
# > AppleÊúçÂä°
DOMAIN-SUFFIX,testflight.apple.com,Proxy // Added for: testflight.apple.com:443
DOMAIN,apps.apple.com,Proxy
DOMAIN-SUFFIX,ls.apple.com,DIRECT // Apple Maps
DOMAIN-SUFFIX,store.apple.com,DIRECT // Apple Store Online
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Surge/Apple/Apple_All.list,DIRECT,extended-matching,no-resolve
# > Proxy
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_All_No_Resolve.list,Proxy,extended-matching,no-resolve
RULE-SET,https://raw.githubusercontent.com/getsomecat/GetSomeCats/Surge/rule/substore.list,Proxy,extended-matching,no-resolve
# > SYSTEM ÂÜÖÁΩÆËßÑÂàô
RULE-SET,SYSTEM,Proxy
# ‰ª•‰∏ãËßÑÂàôÂ∞ÜËß¶ÂèëÊú¨Âú∞ DNS Ëß£Êûê
# > Â±ÄÂüüÁΩëÂú∞ÂùÄ
RULE-SET,LAN,DIRECT,no-resolve
# > GeoIP China
RULE-SET,https://raw.githubusercontent.com/TimKerry/Surge-Rule/refs/heads/main/GEOIP.list,DIRECT,no-resolve
# > DNS Êü•ËØ¢Â§±Ë¥•Ëµ∞FinalËßÑÂàô
FINAL,Proxy,dns-failed

[Host]
91.108.56.143 = 91.108.56.147,91.108.56.135,91.108.56.130
91.108.56.166 = 91.108.56.147,91.108.56.135,91.108.56.130
91.108.56.165 = 91.108.56.147,91.108.56.135,91.108.56.130
91.108.56.102 = 91.108.56.147,91.108.56.135,91.108.56.130
updates.cdn-apple.com = updates.cdn-apple.com.download.ks-cdn.com
iosapps.itunes.apple.com = iosapps.itunes.apple.com.download.ks-cdn.com

[URL Rewrite]
(https:\/\/)?t\.me\/(.+) "sg://resolve?domain=$2" 302

[Body Rewrite]
http-response-jq ^https:\/\/www\.douyin\.com\/aweme\/v1\/web\/tab\/feed\/\? 'if has("aweme_list") then .aweme_list |= map(select(.is_ads != true)) else . end'

[MITM]
h2 = true
hostname = t.me, www.douyin.com
ca-passphrase = E61FE167
ca-p12 = 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

[Script]
# ÁõëÊéßTFÊòØÂê¶ÂèØÂä†ÂÖ• = type=cron,cronexp=30 * * * * ?,script-path=https://raw.githubusercontent.com/fmz200/wool_scripts/main/Scripts/TestFlight/AutoMonitorTF.js,timeout=30,script-update-interval=0
